<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Document metadata and configuration -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main application container - wraps entire app -->
    <div class="container">
        
        <!-- Header section - contains app title and tab navigation -->
        <header>
            <!-- App title/logo -->
            <h1>ðŸ”„ Habit Tracker</h1>
            
            <!-- Tab navigation buttons - switch between Habits and Goals views -->
            <div class="tabs">
                <button class="tab-button active" data-tab="habits">Habits</button>
                <button class="tab-button" data-tab="goals">Goals</button>
                <button class="tab-button" data-tab="analytics">Analytics</button>
                <button class="tab-button" data-tab="time">Time Analytics</button>
            </div>
        </header>

        <!-- ============================================ -->
        <!-- HABITS TAB - Main habit management interface -->
        <!-- ============================================ -->
        <div id="habitsTab" class="tab-content active">
            
            <!-- Filter and search controls bar -->
            <div class="header-controls">
                <!-- Search input - filters habits by text search -->
                <input type="text" id="searchInput" placeholder="Search habits..." class="search-input">
                
                <!-- Priority filter dropdown - filter by Now/Next/Later -->
                <select id="filterPriority" class="filter-select">
                    <option value="">All Priorities</option>
                    <option value="Now">Now</option>
                    <option value="Next">Next</option>
                    <option value="Later">Later</option>
                </select>
                
                <!-- Frequency filter dropdown -->
                <select id="filterFrequency" class="filter-select">
                    <option value="">All Frequencies</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="custom">Custom</option>
                </select>
                
                <!-- Goal filter dropdown - filter habits by linked goal (populated dynamically) -->
                <select id="filterGoal" class="filter-select">
                    <option value="">All Goals</option>
                </select>
            </div>

            <!-- Button to show/hide habit form -->
            <div class="add-task-button-container">
                <button id="toggleHabitForm" class="btn-primary btn-add-task">
                    <span class="btn-icon">+</span>
                    Add New Habit
                </button>
            </div>

            <!-- Habit creation form section - hidden by default -->
            <div class="task-form" id="habitFormContainer" style="display: none;">
                <h2>Add New Habit</h2>
                <form id="habitForm">
                    <!-- Habit title input - required field -->
                    <input type="text" id="habitTitle" placeholder="Habit name..." required>
                    
                    <!-- Habit description textarea - optional details -->
                    <textarea id="habitDescription" placeholder="Description (optional)"></textarea>
                    
                    <!-- Form row - contains multiple form fields side by side -->
                    <div class="form-row">
                        <!-- Priority selection dropdown -->
                        <div class="form-group">
                            <label for="habitPriority">Priority:</label>
                            <select id="habitPriority">
                                <option value="Now">Now</option>
                                <option value="Next" selected>Next</option>
                                <option value="Later">Later</option>
                            </select>
                        </div>
                        
                        <!-- Frequency selection dropdown -->
                        <div class="form-group">
                            <label for="habitFrequency">Frequency:</label>
                            <select id="habitFrequency">
                                <option value="daily" selected>Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        
                        <!-- Goal selection - optional -->
                        <div class="form-group">
                            <label for="habitGoal">Goal (optional):</label>
                            <select id="habitGoal">
                                <option value="">No Goal (Misc)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Time tracking option -->
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="habitTrackTime" style="width: auto; margin: 0;">
                            <span>Track time spent (e.g., for workouts, reading, etc.)</span>
                        </label>
                    </div>
                    
                    <!-- Submit button - creates the new habit -->
                    <button type="submit" class="btn-primary">Add Habit</button>
                </form>
            </div>

            <!-- Habits display section - shows all habits organized by goal -->
            <div class="tasks-section">
                <h2>Habits</h2>
                <!-- Container where habit items are dynamically inserted by JavaScript -->
                <div id="habitsContainer" class="tasks-container">
                    <!-- Habits will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- GOALS TAB - Goal management interface -->
        <!-- ============================================ -->
        <div id="goalsTab" class="tab-content">
            
            <!-- Goal creation form section -->
            <div class="goals-form">
                <h2>Add New Goal</h2>
                <form id="goalForm">
                    <!-- Goal title input - required field -->
                    <input type="text" id="goalTitle" placeholder="Goal title..." required>
                    
                    <!-- Goal description textarea - optional details -->
                    <textarea id="goalDescription" placeholder="Description (optional)"></textarea>
                    
                    <!-- Submit button - creates the new goal -->
                    <button type="submit" class="btn-primary">Add Goal</button>
                </form>
            </div>

            <!-- Goals display section - shows all goals with progress -->
            <div class="goals-section">
                <h2>Goals</h2>
                <!-- Container where goal cards are dynamically inserted by JavaScript -->
                <div id="goalsContainer" class="goals-container">
                    <!-- Goals will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- ANALYTICS TAB - Data analytics and insights -->
        <!-- ============================================ -->
        <div id="analyticsTab" class="tab-content">
            
            <!-- Analytics header with refresh and reset buttons -->
            <div class="analytics-header">
                <h2>Analytics & Insights</h2>
                <div class="analytics-header-buttons">
                    <button id="refreshAnalytics" class="btn-primary">Refresh Data</button>
                    <button id="resetCardLayout" class="btn-secondary">Reset Layout</button>
                </div>
            </div>

            <!-- Analytics container - all analytics cards will be inserted here -->
            <div id="analyticsContainer" class="analytics-container">
                <!-- Analytics will be dynamically inserted here by JavaScript -->
            </div>
        </div>

        <!-- ============================================ -->
        <!-- TIME ANALYTICS TAB - Time tracking and visualizations -->
        <!-- ============================================ -->
        <div id="timeTab" class="tab-content">
            
            <!-- Time Analytics header -->
            <div class="analytics-header">
                <h2>Time Analytics</h2>
                <div class="analytics-header-buttons">
                    <button id="refreshTimeAnalytics" class="btn-primary">Refresh Data</button>
                    <select id="timePeriod" class="filter-select" style="width: auto;">
                        <option value="daily">Daily</option>
                        <option value="weekly" selected>Weekly</option>
                        <option value="monthly">Monthly</option>
                    </select>
                </div>
            </div>

            <!-- Time Analytics container - all time analytics will be inserted here -->
            <div id="timeAnalyticsContainer" class="analytics-container">
                <!-- Time analytics will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Time Input Modal - appears when checking in a time-tracking habit -->
    <div id="timeInputModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Time Spent</h3>
            <p>How much time did you spend on this habit?</p>
            <div class="time-input-group">
                <input type="number" id="timeHours" min="0" max="23" value="0" placeholder="Hours">
                <span>:</span>
                <input type="number" id="timeMinutes" min="0" max="59" value="0" placeholder="Minutes">
            </div>
            <div class="modal-actions">
                <button id="timeInputCancel" class="btn-secondary">Cancel</button>
                <button id="timeInputConfirm" class="btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <!-- JavaScript libraries and application code -->
    <script src="eel.js"></script>  <!-- Eel library for Python-JavaScript communication -->
    <script src="app.js"></script>   <!-- Main application JavaScript logic -->
</body>
</html>
